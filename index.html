<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
  </head>

  <body style="margin: 0px; overflow: hidden;">
    <div
      style="
        position: fixed;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        text-align: center;
        z-index: 1;
      "
    >
      <button class="button" id="btn1" onclick="toggleRotation()">Rotate</button>
    </div>

    <a-scene embedded arjs>
      <a-marker preset="hiro">
        <a-box
          id="blueBox"
          position="0 0 0"
          material="color: blue;"
          rotation="0 0 0"
        ></a-box>
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>

    <script>
      var isRotating = false;
      var rotationSpeed = 0.02;
      var toto = document.getElementById("blueBox");

      function toggleRotation() {
        if (isRotating) {
          isRotating = false;
        } else {
          isRotating = true;
          rotateBox();
        }
      }

      function rotateBox() {
        if (isRotating) {
          box.object3D.rotation.y += rotationSpeed;
          requestAnimationFrame(rotateBox);
        }
      }

      function scaleBox() {
          box.object3D.scale.x += rotationSpeed;
          box.object3D.scale.y += rotationSpeed;
          box.object3D.scale.z += rotationSpeed;
          if(box.object3D.scale.x > 2){
            box.object3D.scale.x = 1;
            box.object3D.scale.y = 1;
            box.object3D.scale.z = 1;
          }
          requestAnimationFrame(scaleBox);
      }
    </script>
  </body>
</html>