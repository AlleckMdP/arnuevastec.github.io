<!DOCTYPE html>
<html>
  <head>
    <title>Alleck Mojardin AR</title>
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <style>
      .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: none;
      z-index: 9999;
      }

      .text-box {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      }

      .button {
        padding: 10px 20px;
        font-size: 18px;
        background-color: blue;
        color: white;
        position: fixed;
        top: 10px;
        left: 15%;
        transform: translateX(-50%);
        text-align: center;
        z-index: 1;
      }

      .button:hover {
        background-color: gray;
      }

      .button2 {
        padding: 10px 20px;
        font-size: 18px;
        background-color: blue;
        color: white;
        position: fixed;
        top: 10px;
        left: 45%;
        transform: translateX(-50%);
        text-align: center;
        z-index: 1;
      }

      .button2:hover {
        background-color: gray;
      }

      .button3 {
        padding: 10px 20px;
        font-size: 18px;
        background-color: blue;
        color: white;
        position: fixed;
        top: 80px;
        left: 20%;
        transform: translateX(-50%);
        text-align: center;
        z-index: 1;
      }

      .button3:hover {
        background-color: gray;
      }

      .button4 {
        padding: 10px 20px;
        font-size: 18px;
        background-color: blue;
        color: white;
        position: fixed;
        top: 10px;
        right: 15%;
        transform: translateX(-50%);
        text-align: center;
        z-index: 1;
      }

      .button4:hover {
        background-color: gray;
      }
    </style>
  </head>

  <script>
    function playSound() {
      var audio = new Audio('sound/movement.mp3');
      audio.play();
    }

    function playSound2() {
      var audio = new Audio('sound/paint.mp3');
      audio.play();
    }

    function toggleOverlay() {
      var overlay = document.getElementById("overlay");
      overlay.style.display = overlay.style.display === "none" ? "block" : "none";
    }
  </script>

  <button class="button" onclick="playSound()">Sound</button>
  <button id="toggleButton" class="button2" onclick="playSound2()">Texture</button>
  <button class="button4" onclick="toggleOverlay()">TextBox</button>
  
  
  <body style="margin: 0px; overflow: hidden;">
    <div id="overlay" class="overlay">
      <div class="text-box">
        <p>A pipe wrench is any of several types of wrench that are designed to turn threaded pipe and pipe fittings for assembly 
            (tightening) or disassembly (loosening). The Stillson wrench, or Stillson-pattern wrench, is the usual form of pipe wrench, 
            especially in North America. The Stillson name is that of the original patent holder, who licensed the design to a number of 
            manufacturers. The patent expired decades ago. Another type of wrench often used on pipes, the plumber wrench, is also called 
            a pipe wrench in some places.</p>
      </div>
    </div>
    <a-scene embedded arjs>
      <a-marker preset="hiro">
        <a-entity
          id="pipe1"
          gltf-model="model\pipe.glb"
          animation-mixer="loop: once"
          scale="0.1 0.1 0.1"
          position="0 0 0"
          rotation="270 0 0"
          visible="true"
          animation-mixer        
          >
        </a-entity>
        <a-entity
          id="pipe2"
          gltf-model="model\pipe2.glb"
          animation-mixer="loop: once"
          scale="0.1 0.1 0.1"
          position="0 0 0"
          rotation="270 0 0"
          visible="false"
          animation-mixer       
          >
        </a-entity>
      </a-marker>
      <a-entity camera></a-entity>
      <button id="animationButton" class="button3" onclick="replayAnimation()">Animation</button>
    </a-scene>

    <script>
        const toggleButton = document.getElementById("toggleButton");
        const pipe1 = document.getElementById("pipe1");
        const pipe2 = document.getElementById("pipe2");
        let isPipe1Visible = true;
  
        toggleButton.addEventListener("click", function () {
          if (isPipe1Visible) {
            pipe1.setAttribute("visible", "false");
            pipe2.setAttribute("visible", "true");
            isPipe1Visible = false;
          } else {
            pipe1.setAttribute("visible", "true");
            pipe2.setAttribute("visible", "false");
            isPipe1Visible = true;
          }
        }); 

        function replayAnimation()
        {
          pipe1.removeAttribute("animation-mixer");
          pipe1.setAttribute("animation-mixer", "loop: once");

          pipe2.removeAttribute("animation-mixer");
          pipe2.setAttribute("animation-mixer", "loop: once");
        }
      </script>
  </body>
</html>
